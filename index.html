<!doctype html>
<html lang='us'>
	<head>
		<title>O_o Muskox http://daneden.github.io/animate.css/</title>
		<meta charset="utf-8">
		<link rel='stylesheet' href='general.css'>
		<link rel='stylesheet' href='layout.css'>
		<link rel='stylesheet' href='components.css'>
		<link rel='stylesheet' href='animate.css'>
		<link href='http://fonts.googleapis.com/css?family=Slabo+27px' rel='stylesheet' type='text/css'>
	</head>
	<body>
		<div class='nav'>
			<div class='less flex'>
				<div class='logo' style='margin: auto;'>
					<a href='#greet-ox'>Muskox.js</a>
				</div>
				<div class='flex navbuts'>
					<div><a href='#greet-ox'>Greeting started</a></div>
					<div><a href='#comps-ox' class='active'>Components</a></div>
					<div><a href='#docs-ox'>Documentation</a></div>
					<div><a href='#code-ox'>Library</a></div>
				</div>
			</div>
		</div>
		<main>
			<page id='greet-ox'>
				<div class='row subar' id='musk'>
					<h1>Are you sure?<br>If so, go and</h1>
					<a href="awesome.js" class='dl jello' download>Download MuskoxJS</a>
				</div>
				<div class='less'>
					<h1>Greeting page</h1>
				</div>
				<!--div class='subnav left'>
					<a href='#greet-ox:one-ox'><div class='item active'>One</div></a>
					<a href='#greet-ox:two-ox'><div class='item'>Two</div></a>
				</div-->
			</page>
			<page id='comps-ox' class=''>
				<mobil>Download <a href="awesome.js" download><b>MuskOx.js</b></a> file...</mobil>
				<div class='less clear flex'>
					<div class='subnav left'>
						<a href='#comps-ox:tabs'><div class='item active'>Tabs</div></a>
						<a href='#comps-ox:drag'><div class='item'>Drag</div></a>
						<a href='#comps-ox:modal'><div class='item'>Modal</div></a>
						<a href='#comps-ox:scroll'><div class='item'>Scroll</div></a>
					</div>
					<div class='content'>
						<comp id='tabs'>
							<h1>Muskox's tabs</h1>
							<block class='component'>
									<tab class='c'>One</tab>
									<tab class='c'>Two</tab>
									<tab class='c'>Three</tab>
									<tabbox id='raw3'><h1>Tabbox one</h1></tabbox>
									<tabbox id='raw4'><h1>Tabbox two</h1></tabbox>
									<tabbox id='raw5'><h1>Tabbox three</h1></tabbox>
							</block>
							<code>
								<markup>
									<pre>
	&lt;block class='component'&gt;

	&lt;/block&gt;
									</pre>
								</markup>
								<css>
									<pre>
	block{

	}
									</pre>
								</css>
								<acts>
									<pre>
	alert('hello!');
									</pre>
								</acts>
							</code>
						</comp>
						<comp id='drag'>
							<h1>Drag</h1>
							<block class='component drag-track'>
								<button type='button' class='draggable'>Drag<br>me!</button>
							</block>
						</comp>
						<comp id='modal'>
							<h1>Modal</h1>
							<block class='component'>
								<trigger class='dl'>Show modal</trigger>
							</block>
						</comp>
						<comp id='scroll'>
							<h1>Scroll</h1>
							<block class='component'>
									
							</block>
						</comp>
					</div>
				</div>
			</page>
			<page id='docs-ox'>
				<mobil>Download <a href="awesome.js" download><b>MuskOx.js</b></a> file...</mobil>
				<div class='less'>
					<h1>Docs page</h1>
				</div>
			</page>
			<page id='code-ox'>
				<mobil>Download <a href="awesome.js" download><b>MuskOx.js</b></a> file...</mobil>
				<div class='less'>
					<h1>Code page</h1>
				</div>
			</page>
			<disabler>
				<modal>
					<mhead>Modal header
						<close>
							x
						</close>
					</mhead>
					<mbody>Modal body</mbody>
					<mfooter>Modal body</mfooter>
				</modal>
			</disabler>
		</main>
		<script src='muskox.js'></script>
		<script>
			
			function _(){
				var integer = 7;
				alert(integer);
			}
			/*(function(){
				var message = '<div class="message"><div class="head">Head</div><div class="body">Body</div></div>';
				O_o('body').append(message);
				var ms = document.getElementsByClassName('message');
				O_o('.message').last().pinok();
			})();*/
			(function(){
				function awesome(){
					var app = {};
					var message = '<div class="message"><div class="head">Head</div><div class="body">Body</div></div>';
					app.report = function(){
						O_o('body').append(message);
						return app;
					}

					return app;
				}
				//awesome().report();
			})();
			(function(){
				/* this code emmidiatly envoked function make tabs be active */
				O_o('tabbox').hide();
				O_o('tabbox').parent().each(function(the){
					O_o(the).find('tabbox').first().show();
					O_o(the).find('tab').first().addClass('active');
				});
				O_o('tab').click(function(){
					var i = O_o(this).ind('tab');
					O_o(this).parent('block').find('tab').removeClass('active');
					O_o(this).addClass('active');
					O_o(this).parent('block').find('tabbox').hide();
					O_o(this).parent('block').find('tabbox').some(i).show();
				});
			})();
			(function(){
				O_o('.item').click(function(){
					//O_o(this).parent('div').find('.active').removeClass('active');
					//O_o(this).addClass('active');
				});
			})();

			
				route = function(){
					var com = '';
					if(window.location.hash===''){
						window.location.hash = '#' + O_o("page").first().attr('id') +':tabs-ox'
					}
					var hash = window.location.hash;
					if(hash.indexOf(':') > 0){
						com = hash.substr(hash.indexOf(':')+1, hash.length);
						hash = hash.substr(1, hash.indexOf(':')-1);
					}else{
						hash = hash.substring(1, hash.length);
						//console.log(O_o('#'+hash).find('.subnav').find('.active'));
					}
					
					var need = O_o('#'+hash).ind() + 1;
					//console.log(O_o('.nav').find('a').getNodes());
					O_o('.nav').find('.active').removeClass('active');
					O_o('.nav').find('a').some(need).addClass('active');
						
					O_o('page').hide();
					O_o('#'+hash).show();
					

					if(com.length > 0){
						O_o('comp').hide();
						if(O_o('#'+com).getNodes() !== null){
							O_o('#'+com).show();
						}else{
							console.info('Here is no component with such id: ' + com)
						}
						try{
							O_o('#'+hash).find('.subnav').find('.active').removeClass('active');
							O_o('#'+hash).find('.item').some(O_o('#'+com).ind()).addClass('active');
						}catch(er){
							console.info('There are no subnavigation at this page!');
						}
					}else{
						//O_o('comp').first().show();
					}
				}
				O_o(window).event('hashchange', route);
				try{
					//com = O_o('#'+hash).find('comp').first().attr('id');
					//console.log(O_o('#'+hash).find('comp').first().attr('id'));
				}catch(err){
					//com = '';
				}
				route();
				O_o('.nav').find('a').click(function(e){
					//e.preventDefault();
					//O_o(this).parent().parent('.nav').find('.active').removeClass('active'); 
					//O_o(this).addClass('active');
				});
			O_o('trigger').click(function(){
				O_o('disabler').show();
			})
			O_o('close').click(function(){
				O_o(this).parent('disabler').hide();
			})
			
			
			//(function(){
				O_o('.draggable').event('mousedown', function(e){
					var elem = O_o(this), 
							   OX = O_o(this).parent('.drag-track').left(), 
							   OY = O_o(this).parent('.drag-track').top(),
							   SY = e.clientY - OY - elem.top(),
							   SX = e.clientX - OX - elem.left();
							   elem.css('position', 'absolute');
					O_o(document).event('mousemove', onMouseMove);
					O_o(document).event('mouseup', onMouseUp);
					function onMouseMove(ev){
						elem.css('left', ev.clientX - OX - SX + 'px');
						elem.css('top', ev.clientY - OY - SY + 'px');
					}
					function onMouseUp(){
						O_o(document).done('mousemove', onMouseMove);
					}
				});
			
		</script>
	</body>
</html>